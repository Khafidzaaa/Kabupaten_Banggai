<!doctype html>
<html lang="id">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
        <link rel="stylesheet" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        <style>
        :root {
            --primary-color: #2c5aa0;
            --secondary-color: #4caf50;
            --accent-color: #ff9800;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            color: #333;
            background-color: #f5f5f5;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-color), #1a3c7a);
            color: white;
            padding: 15px 20px;
            box-shadow: var(--box-shadow);
            z-index: 1000;
        }
        
        .header h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .header p {
            font-size: 0.9rem;
            opacity: 0.9;
            max-width: 800px;
        }
        
        .main-container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }
        
        .sidebar {
            width: 320px;
            background: white;
            padding: 15px;
            overflow-y: auto;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            z-index: 900;
            transition: all 0.3s ease;
        }
        
        .sidebar-toggle {
            position: absolute;
            top: 70px;
            left: 320px;
            background: white;
            border: none;
            border-radius: 0 5px 5px 0;
            padding: 10px 5px;
            cursor: pointer;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            z-index: 950;
        }
        
        .sidebar.collapsed {
            transform: translateX(-100%);
        }
        
        .search-box {
            margin-bottom: 20px;
        }
        
        .search-box input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 0.9rem;
        }
        
        .layer-control {
            margin-bottom: 20px;
        }
        
        .layer-control h3 {
            font-size: 1.1rem;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 2px solid var(--primary-color);
            color: var(--primary-color);
        }
        
        .layer-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            padding: 8px 10px;
            background: #f8f9fa;
            border-radius: var(--border-radius);
            transition: all 0.2s;
            cursor: pointer;
        }
        
        .layer-item:hover {
            background: #e9ecef;
        }
        
        .layer-item input {
            margin-right: 10px;
        }
        
        .layer-item label {
            cursor: pointer;
            flex: 1;
        }
        
        .legend {
            background: white;
            padding: 10px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 15px;
        }
        
        .legend h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border: 1px solid #ddd;
        }
        
        #map {
            flex: 1;
            height: 100%;
            z-index: 800;
        }
        
        .leaflet-popup-content {
            font-size: 0.9rem;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .popup-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .popup-table th {
            background-color: var(--primary-color);
            color: white;
            padding: 8px;
            text-align: left;
        }
        
        .popup-table td {
            padding: 8px;
            border-bottom: 1px solid #ddd;
        }
        
        .popup-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .footer {
            background: var(--dark-color);
            color: white;
            padding: 10px 20px;
            text-align: center;
            font-size: 0.8rem;
        }
        
        .map-controls {
            position: absolute;
            top: 80px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .map-control-button {
            background: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            box-shadow: var(--box-shadow);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--primary-color);
            font-size: 1.2rem;
            transition: all 0.2s;
        }
        
        .map-control-button:hover {
            background: var(--primary-color);
            color: white;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                width: 280px;
                position: absolute;
                height: calc(100% - 120px);
                z-index: 1000;
            }
            
            .header h1 {
                font-size: 1.2rem;
            }
            
            .header p {
                font-size: 0.8rem;
            }
        }
        </style>
        <title>Dashboard Data Potensi Perkebunan Kabupaten Banggai</title>
    </head>
    <body>
        <div class="header">
            <h1>Dashboard Data Potensi Perkebunan Kabupaten Banggai</h1>
            <p>Visualisasi data kesesuaian lahan, kelerengan, produktivitas, dan produksi perkebunan di Kabupaten Banggai</p>
        </div>
        
        <div class="main-container">
            <div class="sidebar">
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="Cari kecamatan atau lokasi...">
                </div>
                
                <div class="layer-control">
                    <h3>Layer Peta</h3>
                    <div class="layer-item">
                        <input type="checkbox" id="layer-kesesuaian" checked>
                        <label for="layer-kesesuaian">Kesesuaian Lahan</label>
                    </div>
                    <div class="layer-item">
                        <input type="checkbox" id="layer-kelerengan" checked>
                        <label for="layer-kelerengan">Kelerengan</label>
                    </div>
                    <div class="layer-item">
                        <input type="checkbox" id="layer-produktivitas" checked>
                        <label for="layer-produktivitas">Produktivitas (Kg/Ha)</label>
                    </div>
                    <div class="layer-item">
                        <input type="checkbox" id="layer-produksi" checked>
                        <label for="layer-produksi">Produksi (Kg/Ha)</label>
                    </div>
                    <div class="layer-item">
                        <input type="checkbox" id="layer-luas" checked>
                        <label for="layer-luas">Luas Area</label>
                    </div>
                    <div class="layer-item">
                        <input type="checkbox" id="layer-administrasi" checked>
                        <label for="layer-administrasi">Administrasi</label>
                    </div>
                </div>
                
                <div class="legend">
                    <h4>Legenda Kesesuaian Lahan</h4>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: rgba(26,150,65,1.0);"></div>
                        <span>S1 - Sangat Sesuai</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: rgba(196,230,135,1.0);"></div>
                        <span>S2 - Cukup Sesuai</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: rgba(254,201,129,1.0);"></div>
                        <span>S3 - Sesuai Bersyarat</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: rgba(215,25,28,1.0);"></div>
                        <span>N - Tidak Sesuai</span>
                    </div>
                </div>
                
                <div class="legend">
                    <h4>Legenda Kelerengan</h4>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: rgba(26,150,65,1.0);"></div>
                        <span>Datar (0-8%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: rgba(166,217,106,1.0);"></div>
                        <span>Landai (8-15%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: rgba(255,255,192,1.0);"></div>
                        <span>Agak Curam (15-25%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: rgba(253,174,97,1.0);"></div>
                        <span>Curam (25-45%)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: rgba(215,25,28,1.0);"></div>
                        <span>Sangat Curam (>45%)</span>
                    </div>
                </div>
            </div>
            
            <button class="sidebar-toggle" id="sidebar-toggle">
                <i class="fas fa-chevron-left"></i>
            </button>
            
            <div id="map"></div>
            
            <div class="map-controls">
                <button class="map-control-button" id="zoom-in" title="Zoom In">
                    <i class="fas fa-plus"></i>
                </button>
                <button class="map-control-button" id="zoom-out" title="Zoom Out">
                    <i class="fas fa-minus"></i>
                </button>
                <button class="map-control-button" id="reset-view" title="Reset View">
                    <i class="fas fa-globe"></i>
                </button>
                <button class="map-control-button" id="current-location" title="Lokasi Saat Ini">
                    <i class="fas fa-location-arrow"></i>
                </button>
            </div>
        </div>
        
        <div class="footer">
            <p>Â© 2025 Kabupaten Banggai | Data bersumber dari Dinas Terkait</p>
        </div>
		
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/L.Control.Layers.Tree.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="data/KesesuaianLahan_1.js"></script>
        <script src="data/Kelerengan_2.js"></script>
        <script src="data/ProduktivitasKgHa_3.js"></script>
        <script src="data/ProduksiKgHa_4.js"></script>
        <script src="data/LuasArea_5.js"></script>
        <script src="data/Administrasi_6.js"></script>
        <script src="data/Administrasicopy_7.js"></script>
        <script>
        var highlightLayer;
        function highlightFeature(e) {
            highlightLayer = e.target;

            if (e.target.feature.geometry.type === 'LineString' || e.target.feature.geometry.type === 'MultiLineString') {
              highlightLayer.setStyle({
                color: '#ffff00',
              });
            } else {
              highlightLayer.setStyle({
                fillColor: '#ffff00',
                fillOpacity: 1
              });
            }
            
            // Tampilkan informasi di sidebar ketika feature dihover
            const props = e.target.feature.properties;
            if (props.NAMOBJ) {
                document.getElementById('search-input').placeholder = props.NAMOBJ;
            }
        }
        
        var map = L.map('map', {
            zoomControl:false, maxZoom:28, minZoom:1
        })
        
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        // remove popup's row if "visible-with-data"
        function removeEmptyRowsFromPopupContent(content, feature) {
         var tempDiv = document.createElement('div');
         tempDiv.innerHTML = content;
         var rows = tempDiv.querySelectorAll('tr');
         for (var i = 0; i < rows.length; i++) {
             var td = rows[i].querySelector('td.visible-with-data');
             var key = td ? td.id : '';
             if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                 rows[i].parentNode.removeChild(rows[i]);
             }
         }
         return tempDiv.innerHTML;
        }
        // add class to format popup if it contains media
		function addClassToPopupIfMedia(content, popup) {
			var tempDiv = document.createElement('div');
			tempDiv.innerHTML = content;
			if (tempDiv.querySelector('td img')) {
				popup._contentNode.classList.add('media');
					// Delay to force the redraw
					setTimeout(function() {
						popup.update();
					}, 10);
			} else {
				popup._contentNode.classList.remove('media');
			}
		}
        var zoomControl = L.control.zoom({
            position: 'topleft'
        }).addTo(map);
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
            if (bounds_group.getLayers().length) {
                map.fitBounds(bounds_group.getBounds());
            }
        }
        map.createPane('pane_OpenStreetMap_0');
        map.getPane('pane_OpenStreetMap_0').style.zIndex = 400;
        var layer_OpenStreetMap_0 = L.tileLayer('http://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            pane: 'pane_OpenStreetMap_0',
            opacity: 1.0,
            attribution: '',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 20
        });
        layer_OpenStreetMap_0;
        map.addLayer(layer_OpenStreetMap_0);
        function pop_KesesuaianLahan_1(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['FID_Bangga'] !== null ? autolinker.link(feature.properties['FID_Bangga'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SPT'] !== null ? autolinker.link(feature.properties['SPT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Jenis_Tana'] !== null ? autolinker.link(feature.properties['Jenis_Tana'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Kedalaman'] !== null ? autolinker.link(feature.properties['Kedalaman'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_Kdlmn'] !== null ? autolinker.link(feature.properties['Ktgr_Kdlmn'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Drainase'] !== null ? autolinker.link(feature.properties['Drainase'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_Drn'] !== null ? autolinker.link(feature.properties['Ktgr_Drn'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Tekstur'] !== null ? autolinker.link(feature.properties['Tekstur'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_Tkstr'] !== null ? autolinker.link(feature.properties['Ktgr_Tkstr'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['pH'] !== null ? autolinker.link(feature.properties['pH'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_pH'] !== null ? autolinker.link(feature.properties['Ktgr_pH'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['KTK'] !== null ? autolinker.link(feature.properties['KTK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_KTK'] !== null ? autolinker.link(feature.properties['Ktgr_KTK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['KB'] !== null ? autolinker.link(feature.properties['KB'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_KB'] !== null ? autolinker.link(feature.properties['Ktgr_KB'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Lereng'] !== null ? autolinker.link(feature.properties['Lereng'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_lreng'] !== null ? autolinker.link(feature.properties['Ktgr_lreng'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Evlan</th>\
                        <td>' + (feature.properties['Evlan'] !== null ? autolinker.link(feature.properties['Evlan'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Area'] !== null ? autolinker.link(feature.properties['Area'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['FID_Admini'] !== null ? autolinker.link(feature.properties['FID_Admini'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Kecamatan</th>\
                        <td>' + (feature.properties['NAMOBJ'] !== null ? autolinker.link(feature.properties['NAMOBJ'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['REMARK'] !== null ? autolinker.link(feature.properties['REMARK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['WADMKK'] !== null ? autolinker.link(feature.properties['WADMKK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['WADMPR'] !== null ? autolinker.link(feature.properties['WADMPR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ID'] !== null ? autolinker.link(feature.properties['ID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Luas_Areal'] !== null ? autolinker.link(feature.properties['Luas_Areal'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Produksi__'] !== null ? autolinker.link(feature.properties['Produksi__'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Produktivi'] !== null ? autolinker.link(feature.properties['Produktivi'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_KesesuaianLahan_1_0(feature) {
            switch(String(feature.properties['Evlan'])) {
                case 'S1':
                    return {
                pane: 'pane_KesesuaianLahan_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(26,150,65,1.0)',
                interactive: true,
            }
                    break;
                case 'S2':
                    return {
                pane: 'pane_KesesuaianLahan_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(196,230,135,1.0)',
                interactive: true,
            }
                    break;
                case 'S3':
                    return {
                pane: 'pane_KesesuaianLahan_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(254,201,129,1.0)',
                interactive: true,
            }
                    break;
                case 'N':
                    return {
                pane: 'pane_KesesuaianLahan_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(215,25,28,1.0)',
                interactive: true,
            }
                    break;
            }
        }
        map.createPane('pane_KesesuaianLahan_1');
        map.getPane('pane_KesesuaianLahan_1').style.zIndex = 401;
        map.getPane('pane_KesesuaianLahan_1').style['mix-blend-mode'] = 'normal';
        var layer_KesesuaianLahan_1 = new L.geoJson(json_KesesuaianLahan_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_KesesuaianLahan_1',
            layerName: 'layer_KesesuaianLahan_1',
            pane: 'pane_KesesuaianLahan_1',
            onEachFeature: pop_KesesuaianLahan_1,
            style: style_KesesuaianLahan_1_0,
        });
        bounds_group.addLayer(layer_KesesuaianLahan_1);
        map.addLayer(layer_KesesuaianLahan_1);
        function pop_Kelerengan_2(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['FID_Bangga'] !== null ? autolinker.link(feature.properties['FID_Bangga'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SPT'] !== null ? autolinker.link(feature.properties['SPT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Jenis_Tana'] !== null ? autolinker.link(feature.properties['Jenis_Tana'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Kedalaman'] !== null ? autolinker.link(feature.properties['Kedalaman'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_Kdlmn'] !== null ? autolinker.link(feature.properties['Ktgr_Kdlmn'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Drainase'] !== null ? autolinker.link(feature.properties['Drainase'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_Drn'] !== null ? autolinker.link(feature.properties['Ktgr_Drn'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Tekstur'] !== null ? autolinker.link(feature.properties['Tekstur'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_Tkstr'] !== null ? autolinker.link(feature.properties['Ktgr_Tkstr'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['pH'] !== null ? autolinker.link(feature.properties['pH'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_pH'] !== null ? autolinker.link(feature.properties['Ktgr_pH'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['KTK'] !== null ? autolinker.link(feature.properties['KTK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_KTK'] !== null ? autolinker.link(feature.properties['Ktgr_KTK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['KB'] !== null ? autolinker.link(feature.properties['KB'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_KB'] !== null ? autolinker.link(feature.properties['Ktgr_KB'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Lereng</th>\
                        <td>' + (feature.properties['Lereng'] !== null ? autolinker.link(feature.properties['Lereng'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Ktgr_lreng'] !== null ? autolinker.link(feature.properties['Ktgr_lreng'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Evlan'] !== null ? autolinker.link(feature.properties['Evlan'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Area'] !== null ? autolinker.link(feature.properties['Area'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['FID_Admini'] !== null ? autolinker.link(feature.properties['FID_Admini'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Kecamatan</th>\
                        <td>' + (feature.properties['NAMOBJ'] !== null ? autolinker.link(feature.properties['NAMOBJ'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['REMARK'] !== null ? autolinker.link(feature.properties['REMARK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['WADMKK'] !== null ? autolinker.link(feature.properties['WADMKK'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['WADMPR'] !== null ? autolinker.link(feature.properties['WADMPR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ID'] !== null ? autolinker.link(feature.properties['ID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Luas_Areal'] !== null ? autolinker.link(feature.properties['Luas_Areal'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Produksi__'] !== null ? autolinker.link(feature.properties['Produksi__'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Produktivi'] !== null ? autolinker.link(feature.properties['Produktivi'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Kelerengan_2_0(feature) {
            switch(String(feature.properties['Lereng'])) {
                case 'Datar (0-8%)':
                    return {
                pane: 'pane_Kelerengan_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(26,150,65,1.0)',
                interactive: true,
            }
                    break;
                case 'Landai (8-15%)':
                    return {
                pane: 'pane_Kelerengan_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(166,217,106,1.0)',
                interactive: true,
            }
                    break;
                case 'Agak Curam (15-25%)':
                    return {
                pane: 'pane_Kelerengan_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,192,1.0)',
                interactive: true,
            }
                    break;
                case 'Curam (25-45%)':
                    return {
                pane: 'pane_Kelerengan_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(253,174,97,1.0)',
                interactive: true,
            }
                    break;
                case 'Sangat Curam (>45%)':
                    return {
                pane: 'pane_Kelerengan_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(215,25,28,1.0)',
                interactive: true,
            }
                    break;
            }
        }
        map.createPane('pane_Kelerengan_2');
        map.getPane('pane_Kelerengan_2').style.zIndex = 402;
        map.getPane('pane_Kelerengan_2').style['mix-blend-mode'] = 'normal';
        var layer_Kelerengan_2 = new L.geoJson(json_Kelerengan_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Kelerengan_2',
            layerName: 'layer_Kelerengan_2',
            pane: 'pane_Kelerengan_2',
            onEachFeature: pop_Kelerengan_2,
            style: style_Kelerengan_2_0,
        });
        bounds_group.addLayer(layer_Kelerengan_2);
        map.addLayer(layer_Kelerengan_2);
        function pop_ProduktivitasKgHa_3(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Kecamatan</th>\
                        <td>' + (feature.properties['NAMOBJ'] !== null ? autolinker.link(feature.properties['NAMOBJ'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Luas Areal</th>\
                        <td>' + (feature.properties['Luas Areal'] !== null ? autolinker.link(feature.properties['Luas Areal'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Produksi (Kg/Ha)</th>\
                        <td>' + (feature.properties['Produksi ('] !== null ? autolinker.link(feature.properties['Produksi ('].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Produktivitas (Kg/Ha)</th>\
                        <td>' + (feature.properties['Produktivi'] !== null ? autolinker.link(feature.properties['Produktivi'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_ProduktivitasKgHa_3_0(feature) {
            if (feature.properties['Produktivi'] >= 1020.000000 && feature.properties['Produktivi'] <= 1120.000000 ) {
                return {
                pane: 'pane_ProduktivitasKgHa_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(247,252,245,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Produktivi'] >= 1120.000000 && feature.properties['Produktivi'] <= 1152.400000 ) {
                return {
                pane: 'pane_ProduktivitasKgHa_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(201,234,194,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Produktivi'] >= 1152.400000 && feature.properties['Produktivi'] <= 1262.400000 ) {
                return {
                pane: 'pane_ProduktivitasKgHa_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(123,199,124,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Produktivi'] >= 1262.400000 && feature.properties['Produktivi'] <= 1393.400000 ) {
                return {
                pane: 'pane_ProduktivitasKgHa_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(42,146,75,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Produktivi'] >= 1393.400000 && feature.properties['Produktivi'] <= 1500.000000 ) {
                return {
                pane: 'pane_ProduktivitasKgHa_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(0,68,27,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_ProduktivitasKgHa_3');
        map.getPane('pane_ProduktivitasKgHa_3').style.zIndex = 403;
        map.getPane('pane_ProduktivitasKgHa_3').style['mix-blend-mode'] = 'normal';
        var layer_ProduktivitasKgHa_3 = new L.geoJson(json_ProduktivitasKgHa_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_ProduktivitasKgHa_3',
            layerName: 'layer_ProduktivitasKgHa_3',
            pane: 'pane_ProduktivitasKgHa_3',
            onEachFeature: pop_ProduktivitasKgHa_3,
            style: style_ProduktivitasKgHa_3_0,
        });
        bounds_group.addLayer(layer_ProduktivitasKgHa_3);
        map.addLayer(layer_ProduktivitasKgHa_3);
        function pop_ProduksiKgHa_4(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Kecamatan</th>\
                        <td>' + (feature.properties['NAMOBJ'] !== null ? autolinker.link(feature.properties['NAMOBJ'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Luas Areal</th>\
                        <td>' + (feature.properties['Luas Areal'] !== null ? autolinker.link(feature.properties['Luas Areal'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Produksi (Kg/Ha)</th>\
                        <td>' + (feature.properties['Produksi ('] !== null ? autolinker.link(feature.properties['Produksi ('].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Produktivitas (Kg/Ha)</th>\
                        <td>' + (feature.properties['Produktivi'] !== null ? autolinker.link(feature.properties['Produktivi'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_ProduksiKgHa_4_0(feature) {
            if (feature.properties['Produksi ('] >= 1197.000000 && feature.properties['Produksi ('] <= 9329.400000 ) {
                return {
                pane: 'pane_ProduksiKgHa_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(215,25,28,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Produksi ('] >= 9329.400000 && feature.properties['Produksi ('] <= 267050.600000 ) {
                return {
                pane: 'pane_ProduksiKgHa_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(253,174,97,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Produksi ('] >= 267050.600000 && feature.properties['Produksi ('] <= 1402146.400000 ) {
                return {
                pane: 'pane_ProduksiKgHa_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,192,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Produksi ('] >= 1402146.400000 && feature.properties['Produksi ('] <= 3316218.000000 ) {
                return {
                pane: 'pane_ProduksiKgHa_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(166,217,106,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Produksi ('] >= 3316218.000000 && feature.properties['Produksi ('] <= 18214400.000000 ) {
                return {
                pane: 'pane_ProduksiKgHa_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(26,150,65,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_ProduksiKgHa_4');
        map.getPane('pane_ProduksiKgHa_4').style.zIndex = 404;
        map.getPane('pane_ProduksiKgHa_4').style['mix-blend-mode'] = 'normal';
        var layer_ProduksiKgHa_4 = new L.geoJson(json_ProduksiKgHa_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_ProduksiKgHa_4',
            layerName: 'layer_ProduksiKgHa_4',
            pane: 'pane_ProduksiKgHa_4',
            onEachFeature: pop_ProduksiKgHa_4,
            style: style_ProduksiKgHa_4_0,
        });
        bounds_group.addLayer(layer_ProduksiKgHa_4);
        map.addLayer(layer_ProduksiKgHa_4);
        function pop_LuasArea_5(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Kecamatan</th>\
                        <td>' + (feature.properties['NAMOBJ'] !== null ? autolinker.link(feature.properties['NAMOBJ'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Luas Areal</th>\
                        <td>' + (feature.properties['Luas Areal'] !== null ? autolinker.link(feature.properties['Luas Areal'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Produksi (Kg/Ha)</th>\
                        <td>' + (feature.properties['Produksi ('] !== null ? autolinker.link(feature.properties['Produksi ('].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Produktivitas (Kg/Ha)</th>\
                        <td>' + (feature.properties['Produktivi'] !== null ? autolinker.link(feature.properties['Produktivi'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_LuasArea_5_0(feature) {
            if (feature.properties['Luas Areal'] >= 220.000000 && feature.properties['Luas Areal'] <= 4556.600000 ) {
                return {
                pane: 'pane_LuasArea_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(241,238,246,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Luas Areal'] >= 4556.600000 && feature.properties['Luas Areal'] <= 8893.200000 ) {
                return {
                pane: 'pane_LuasArea_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(189,201,225,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Luas Areal'] >= 8893.200000 && feature.properties['Luas Areal'] <= 13229.800000 ) {
                return {
                pane: 'pane_LuasArea_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(116,169,207,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Luas Areal'] >= 13229.800000 && feature.properties['Luas Areal'] <= 17566.400000 ) {
                return {
                pane: 'pane_LuasArea_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(43,140,190,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Luas Areal'] >= 17566.400000 && feature.properties['Luas Areal'] <= 21903.000000 ) {
                return {
                pane: 'pane_LuasArea_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(4,90,141,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_LuasArea_5');
        map.getPane('pane_LuasArea_5').style.zIndex = 405;
        map.getPane('pane_LuasArea_5').style['mix-blend-mode'] = 'normal';
        var layer_LuasArea_5 = new L.geoJson(json_LuasArea_5, {
            attribution: '',
            interactive: true,
            dataVar: 'json_LuasArea_5',
            layerName: 'layer_LuasArea_5',
            pane: 'pane_LuasArea_5',
            onEachFeature: pop_LuasArea_5,
            style: style_LuasArea_5_0,
        });
        bounds_group.addLayer(layer_LuasArea_5);
        map.addLayer(layer_LuasArea_5);
        function pop_Administrasi_6(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Kecamatan</th>\
                        <td>' + (feature.properties['NAMOBJ'] !== null ? autolinker.link(feature.properties['NAMOBJ'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Luas Areal</th>\
                        <td>' + (feature.properties['Luas Areal'] !== null ? autolinker.link(feature.properties['Luas Areal'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Produksi (Kg/Ha)</th>\
                        <td>' + (feature.properties['Produksi ('] !== null ? autolinker.link(feature.properties['Produksi ('].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Produktivitas (Kg/Ha)</th>\
                        <td>' + (feature.properties['Produktivi'] !== null ? autolinker.link(feature.properties['Produktivi'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Administrasi_6_0(feature) {
            switch(String(feature.properties['NAMOBJ'])) {
                case 'Balantak':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(166,97,26,1.0)',
                interactive: true,
            }
                    break;
                case 'Balantak Utara':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(176,115,44,1.0)',
                interactive: true,
            }
                    break;
                case 'Balantakselatan':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(187,132,62,1.0)',
                interactive: true,
            }
                    break;
                case 'Batui':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(197,150,80,1.0)',
                interactive: true,
            }
                    break;
                case 'Batui Selatan':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(207,168,98,1.0)',
                interactive: true,
            }
                    break;
                case 'Bualemo':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(218,185,116,1.0)',
                interactive: true,
            }
                    break;
                case 'Bunta':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(225,199,136,1.0)',
                interactive: true,
            }
                    break;
                case 'Kintom':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(229,208,158,1.0)',
                interactive: true,
            }
                    break;
                case 'Lamala':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(233,217,180,1.0)',
                interactive: true,
            }
                    break;
                case 'Lobu':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(237,226,201,1.0)',
                interactive: true,
            }
                    break;
                case 'Luwuk':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(241,236,223,1.0)',
                interactive: true,
            }
                    break;
                case 'Luwuk Selatan':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(245,245,245,1.0)',
                interactive: true,
            }
                    break;
                case 'Luwuk Timur':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(224,238,236,1.0)',
                interactive: true,
            }
                    break;
                case 'Luwuk Utara':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(202,230,226,1.0)',
                interactive: true,
            }
                    break;
                case 'Mantoh':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(181,223,217,1.0)',
                interactive: true,
            }
                    break;
                case 'Masama':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(160,216,207,1.0)',
                interactive: true,
            }
                    break;
                case 'Moilong':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(139,209,198,1.0)',
                interactive: true,
            }
                    break;
                case 'Nambo':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(116,198,186,1.0)',
                interactive: true,
            }
                    break;
                case 'Nuhon':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(93,185,171,1.0)',
                interactive: true,
            }
                    break;
                case 'Pagimana':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(70,172,157,1.0)',
                interactive: true,
            }
                    break;
                case 'Simpangraya':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(47,159,142,1.0)',
                interactive: true,
            }
                    break;
                case 'Toili':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(24,146,128,1.0)',
                interactive: true,
            }
                    break;
                case 'Toili Barat':
                    return {
                pane: 'pane_Administrasi_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(1,133,113,1.0)',
                interactive: true,
            }
                    break;
            }
        }
        map.createPane('pane_Administrasi_6');
        map.getPane('pane_Administrasi_6').style.zIndex = 406;
        map.getPane('pane_Administrasi_6').style['mix-blend-mode'] = 'normal';
        var layer_Administrasi_6 = new L.geoJson(json_Administrasi_6, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Administrasi_6',
            layerName: 'layer_Administrasi_6',
            pane: 'pane_Administrasi_6',
            onEachFeature: pop_Administrasi_6,
            style: style_Administrasi_6_0,
        });
        bounds_group.addLayer(layer_Administrasi_6);
        map.addLayer(layer_Administrasi_6);
        function pop_Administrasicopy_7(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Kecamatan</th>\
                        <td>' + (feature.properties['NAMOBJ'] !== null ? autolinker.link(feature.properties['NAMOBJ'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Luas Areal</th>\
                        <td>' + (feature.properties['Luas Areal'] !== null ? autolinker.link(feature.properties['Luas Areal'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Produksi (Kg/Ha)</th>\
                        <td>' + (feature.properties['Produksi ('] !== null ? autolinker.link(feature.properties['Produksi ('].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Produktivitas (Kg/Ha)</th>\
                        <td>' + (feature.properties['Produktivi'] !== null ? autolinker.link(feature.properties['Produktivi'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Administrasicopy_7_0() {
            return {
                pane: 'pane_Administrasicopy_7',
                opacity: 1,
                color: 'rgba(215,25,28,1.0)',
                dashArray: '5.0,1.0,2.0,1.0,2.0,1.0',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_Administrasicopy_7');
        map.getPane('pane_Administrasicopy_7').style.zIndex = 407;
        map.getPane('pane_Administrasicopy_7').style['mix-blend-mode'] = 'normal';
        var layer_Administrasicopy_7 = new L.geoJson(json_Administrasicopy_7, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Administrasicopy_7',
            layerName: 'layer_Administrasicopy_7',
            pane: 'pane_Administrasicopy_7',
            onEachFeature: pop_Administrasicopy_7,
            style: style_Administrasicopy_7_0,
        });
        bounds_group.addLayer(layer_Administrasicopy_7);
        map.addLayer(layer_Administrasicopy_7);
		
		
        var baseMaps = {};
        var overlaysTree = [
            {label: '<img src="legend/Administrasicopy_7.png" /> Administrasi copy', layer: layer_Administrasicopy_7},
            {label: 'Administrasi', layer: layer_Administrasi_6},
            {label: 'Luas Area', layer: layer_LuasArea_5},
            {label: 'Produksi (Kg/Ha)', layer: layer_ProduksiKgHa_4},
            {label: 'Produktivitas (Kg/Ha)', layer: layer_ProduktivitasKgHa_3},
            {label: 'Kelerengan', layer: layer_Kelerengan_2},
            {label: 'Kesesuaian Lahan', layer: layer_KesesuaianLahan_1},
            {label: "Open Street Map", layer: layer_OpenStreetMap_0},
        ];
        
        var lay = L.control.layers.tree(null, overlaysTree, {
            collapsed: true,
        });
        lay.addTo(map);
        setBounds();
        resetLabels([layer_KesesuaianLahan_1,layer_Kelerengan_2]);
        
        map.on("zoomend", function(){
            resetLabels([layer_KesesuaianLahan_1,layer_Kelerengan_2]);
        });
        
        map.on("layeradd", function(){
            resetLabels([layer_KesesuaianLahan_1,layer_Kelerengan_2]);
        });
        
        map.on("layerremove", function(){
            resetLabels([layer_KesesuaianLahan_1,layer_Kelerengan_2]);
        });
        
        // Fungsi tambahan untuk fitur UI baru
        document.getElementById('sidebar-toggle').addEventListener('click', function() {
            document.querySelector('.sidebar').classList.toggle('collapsed');
            const icon = this.querySelector('i');
            if (document.querySelector('.sidebar').classList.contains('collapsed')) {
                icon.className = 'fas fa-chevron-right';
            } else {
                icon.className = 'fas fa-chevron-left';
            }
        });
        
        document.getElementById('zoom-in').addEventListener('click', function() {
            map.zoomIn();
        });
        
        document.getElementById('zoom-out').addEventListener('click', function() {
            map.zoomOut();
        });
        
        document.getElementById('reset-view').addEventListener('click', function() {
            setBounds();
        });
        
        document.getElementById('current-location').addEventListener('click', function() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    map.setView([position.coords.latitude, position.coords.longitude], 13);
                });
            } else {
                alert('Geolocation is not supported by this browser.');
            }
        });
        
        // Kontrol layer dengan checkbox
        const layerCheckboxes = {
            'layer-kesesuaian': layer_KesesuaianLahan_1,
            'layer-kelerengan': layer_Kelerengan_2,
            'layer-produktivitas': layer_ProduktivitasKgHa_3,
            'layer-produksi': layer_ProduksiKgHa_4,
            'layer-luas': layer_LuasArea_5,
            'layer-administrasi': layer_Administrasi_6
        };
        
        for (const [id, layer] of Object.entries(layerCheckboxes)) {
            document.getElementById(id).addEventListener('change', function(e) {
                if (e.target.checked) {
                    map.addLayer(layer);
                } else {
                    map.removeLayer(layer);
                }
            });
        }
        
        // Fitur pencarian sederhana
        document.getElementById('search-input').addEventListener('keyup', function(e) {
            if (e.key === 'Enter') {
                const searchTerm = this.value.toLowerCase();
                let found = false;
                
                // Cari di semua layer yang memiliki properti NAMOBJ (nama kecamatan)
                [layer_Administrasi_6, layer_LuasArea_5, layer_ProduksiKgHa_4, 
                 layer_ProduktivitasKgHa_3, layer_Kelerengan_2, layer_KesesuaianLahan_1].forEach(layer => {
                    layer.eachLayer(function(featureLayer) {
                        const feature = featureLayer.feature;
                        if (feature && feature.properties && feature.properties.NAMOBJ && 
                            feature.properties.NAMOBJ.toLowerCase().includes(searchTerm)) {
                            map.fitBounds(featureLayer.getBounds());
                            featureLayer.fire('click');
                            found = true;
                        }
                    });
                });
                
                if (!found) {
                    alert('Kecamatan tidak ditemukan');
                }
            }
        });
        </script>
    </body>
</html>